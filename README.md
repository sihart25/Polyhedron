# Polyhedron
The aim of this assessment was to produce a matrix to represent rotation about an axis specified by two spherical polar angles, and to write a program to read, transform, light, project and render a set of polyhedrons, as specified in a data file. All the required features have been implemented, and the following extra features have been added. Multiple cameras, lights and polyhedrons can be read from the data file. The cameras can be moved interactively using the mouse and keyboard. The lights can be point or directional sources, with ambient, diffuse, and specular components. The polyhedrons have material properties with ambient, diffuse, specular and emissive components. Each polyhedron can have axes attached to it to show its local co-ordinate system. The polyhedrons can be rendered as solids or wire-frames. The rendered scene can be saved to a bitmap file.

#Program Description
If the program is run without command line arguments, then it reads the data file from “..\Data\Polyhedron.txt”, and writes the bitmap file to “..\Data\Polyhedron.bmp”. If  the program is run with two command line arguments, then they specify the filename of the data file and the bitmap file respectively. A menu detailing the use of the mouse and keyboard is displayed in the DOS window. The results of the test of the rotation matrix are written to the file “..\Data\Test.txt”.
#Description Of Theory
The matrix to represent rotation about an axis specified by spherical polar angles, is produced by determining the Cartesian components of the axis, and using the matrix that represents rotation about this axis. A 4x4 homogeneous matrix is generated, but only a 3x3 sub-matrix is required to define the rotation. The matrix is shown to be correct by checking that both the origin and a point on the axis are rotated onto themselves. A third point is rotated, and it is checked that it maintains its distance from the axis, and that the angle between it and the rotated point matches the specified rotation angle. An additional check generates the transpose of the matrix as the inverse, and multiplies this by the original matrix to produce the identity matrix.
A polyhedron is read from its definition files into an array of vertices and an array of faces, where each face is an array of indices that reference the array of vertices. Each vertex is transformed only once, no matter how many faces it is reference by. Each polyhedron has material properties of diffuse, ambient and specular colour, and geometric properties of radius, angle, axis and spin. Each polyhedron generates three axis objects that represent its local co-ordinate system.
Multiple lights can be added into the scene. Each light has properties of ambient, diffuse and specular colour, and position. Multiple cameras can be used to view the scene. Each camera has properties of position, direction and up vectors, and the field of view. Each camera can be interactively moved by the mouse or keyboard, using a spherical polar co-ordinate system. Polyhedron and light objects can be grouped together to form a hierarchical scene. Transform objects can be added at any point in the scene hierarchy. The transform objects include properties of scale, rotation and translation, which are applied in that order. The rotation includes a spin, and can be specified in terms of an axis defined by spherical polar angles or by Cartesian co-ordinates.
All the light positions and shape vertices in the scene are transformed according to the active transforms and the currently active camera. This is done by maintaining a transformation matrix that represents all the active transforms in the object hierarchy, and applying this to each vertex of each object. The polyhedrons and their axes are then depth sorted from back to front according to their centroids. This method is sufficient for regular convex polyhedrons and line segments, assuming that one object’s bounding sphere will not intersect with that of anothers. The normal to a polyhedron face is determined as the unit vector from the polyhedron’s centroid to the face’s centroid. The centroid is determined as the weighted sum of all the vertices referenced by the polyhedron or the face. The faces are back-face culled according to the sign of the dot product between their normals and the unit vector from their centroid to the camera. Faces and axes are clipped if any of their vertices lie behind the camera. These tests are done in the camera’s coordinate system, so that the camera is at the origin and facing down the negative z-axis, with the x-axis pointing right and the y-axis pointing up.
The lighting of each face is determined by adding the contributions from all the lights that are visible at its centroid, according to the sign of the dot product between the face’s normal and the unit vector from the face’s centroid to the light. No shadow tests are performed. The ambient contribution of each light is determined by multiplying together the light and material ambient colours. The diffuse light is determined by using the dot product of the face’s normal and the unit vector to each light and multiplying this against the light and material diffuse colours. The specular light is determined by using the unit vector that is half-way between the vectors from the face to the light and from the face to the camera. The dot product of this half-way vector and the face’s normal is taken and raised to a power specified by the material shininess. Emissive light is added to all faces, independent of other lights in the scene. Lights are not applied to the axes, which have solid colours of red, green and blue to indicate whether they represent the x, y or z axes respectively.
The shapes are projected, according to the currently active camera’s field of view, by creating an homogeneous matrix to represent this projection, and applying this to obtain a perspective view. The axes showing the local co-ordinate systems can be disabled, and the faces can be displayed as solids or wire-frames as required. The depth-sorted list of back-face culled polyhedrons and axes is rendered to the screen to achieve hidden surface removal using a painter’s algorithm.
The spin of the polyhedrons is set by using their own local spin properties, but their orbit is set by using transforms within the group. This allows the same orbit to be applied to other polyhedrons further down the object hierarchy. To maintain the direction of the spin axis while the polyhedron is in orbit, the transform applies a local complementary spin.

#Class Description
The design has been implemented as the test, display, control, scene, reader, screen, camera, writer, object, group, light, shape, polyhedron, face, axis, transform, material, matrix, vectors and colour classes.

#Conclusions
The assessment has been completed successfully. The program has been extended to provide local axis display, multiple cameras, and multiple lights. The lighting model includes ambient, diffuse, specular and emissive components